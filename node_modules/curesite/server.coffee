app = module.exports = express.createServer

theme = 'default'

process.app = app
theme = 'default'

app.configure ->
  app.set 'views', '.'
  app.set 'view engine', 'ejs'
  #app.enable('view cache');
  app.use express.bodyParser()
  app.use express.methodOverride()
  app.use app.router
  app.use express.static 'themes/' + theme + '/views/desktop'

#app.get

StaticSiteView ->
  @render = (data) ->
    # req and res in data


# type: http
# view : static
# context: session
# data : req

